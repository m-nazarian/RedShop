{% extends 'parent/base.html' %}
{% load thumbnail %}
{% load custom_filters %}
{% load static %}

{% block title %}profile{% endblock %}
{% block extra_css %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/pages/profile.css' %}">
{% endblock %}
{% block extra_js %}
    <script src="{% static 'js/profile.js' %}"></script>
{% endblock %}


{% block content %}
    <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ -->
<main class="main">
    <div class="container">
                    <!-- Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± Ù¾Ø±ÙˆÙØ§ÛŒÙ„ -->
            <aside class="sidebar">
                <div class="profile-card">
                    <div class="profile-avatar">
                        {% if request.user.account.photo %}
                            <img src="{{ request.user.account.photo.url }}" alt="ØªØµÙˆÛŒØ± Ù¾Ø±ÙˆÙØ§ÛŒÙ„" class="profile-photo">
                        {% else %}
                            <img src="{% static 'images/man.png' %}" style="width: 75px">
                        {% endif %}
                    </div>
                    <div class="profile-info">
                        <h2>{{ request.user.account.display_name }}</h2>
                        <section>{{ request.user.phone|fa_number }}</section>
                        <button onclick="window.location.href='{% url 'account:edit_account' %}'" class="edit-profile-btn">ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÙØ§ÛŒÙ„</button>
                    </div>
                </div>

                <nav class="profile-nav">
                    <ul class="space-y-1">
                        <li>
                            <a href="#"
                               class="tab-link flex items-center gap-3 px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 active-tab"
                               data-url="{% url 'orders:user_orders_partial' %}"
                               data-target="orders">
                               <span class="text-xl">ğŸ›ï¸</span>
                               <span class="font-medium">Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†</span>
                            </a>
                        </li>

                        <li>
                            <a href="#"
                               class="tab-link flex items-center gap-3 px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200"
                               data-url="{% url 'account:user_addresses_partial' %}"
                               data-target="addresses">
                               <span class="text-xl">ğŸ“</span>
                               <span class="font-medium">Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ù†</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" class="flex items-center gap-3 px-4 py-3 text-gray-400 cursor-not-allowed">
                               <span class="text-xl">ğŸ’¬</span>
                               <span class="font-medium">Ø¯ÛŒØ¯Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù† (Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ)</span>
                            </a>
                        </li>

                        <li>
                            <a href="{% url 'account:logout' %}" class="flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200">
                               <span class="text-xl">ğŸšª</span>
                               <span class="font-medium">Ø®Ø±ÙˆØ¬</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>

            <!-- Ø¨Ø®Ø´ Ù…Ø­ØªÙˆØ§ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ -->
            <section class="profile-content">
                <div class="content-header">
                    <h2>Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†</h2>
                    <div class="search-box">
                        <label>
                            <input type="text" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§...">
                        </label>
                        <button class="search-btn">ğŸ”</button>
                    </div>
                </div>

                <div class="orders-list" id="profile-dynamic-content">
                </div>

            </section>
        </div>
    </main>


{% endblock %}
